(this["webpackJsonpreact-games"]=this["webpackJsonpreact-games"]||[]).push([[0],{36:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),o=(a(36),a(8)),i=a.n(o),l=a(11),b=a(15),d=a(9),u=a(12),j=a.n(u),p=a(1),h="https://node-gamesdb.herokuapp.com",O=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(b.a)(c,2),o=s[0],u=s[1],O=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a){e.next=3;break}return e.abrupt("return",d.b.error("Must enter a title!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0}));case 3:return e.next=5,j.a.post(h,{gameTitle:a});case 5:if(0!==(n=e.sent).data.length){e.next=8;break}return e.abrupt("return",d.b.error("No games with that title!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0}));case 8:u(n.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(h,"/backlog"),{game:t});case 3:a=e.sent,console.log(a),d.b.success("".concat(t.title," Added to Backlog!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.b.error("This game is already added",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("form",{className:"py-4 d-flex",children:[Object(p.jsx)("input",{type:"text",placeholder:"search a game",onChange:function(e){return r(e.target.value)},className:"form-control",style:{width:"400px"}}),Object(p.jsx)("button",{onClick:function(e){return O(e)},className:"btn btn-dark",children:"Search"})]}),o?Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:["#","Title","System"].map((function(e,t){return Object(p.jsx)("th",{children:e},e)}))})}),Object(p.jsx)("tbody",{children:o.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:t+1}),Object(p.jsx)("td",{children:e.title}),Object(p.jsx)("td",{children:e.system}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{onClick:function(){return x(e)},className:"btn btn-dark",children:"Backlog"})})]},e.id)}))})]}):"Search a Game"]})},x="http://localhost:4000",g=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],c=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(x,"/backlog"));case 2:t=e.sent,console.log(t.data),o(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("".concat(x,"/backlog/").concat(t));case 2:c(),d.b.success("".concat(a," Completed!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),o=function(e){e.sort((function(e,t){return e.title.localeCompare(t.title)})),r(e)};return Object(n.useEffect)((function(){c()}),[]),Object(p.jsx)("div",{children:a?Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)("thead",{children:Object(p.jsx)("tr",{children:["#","Title"].map((function(e,t){return Object(p.jsx)("th",{children:e},e)}))})}),Object(p.jsx)("tbody",{children:a.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"row",children:t+1}),Object(p.jsx)("td",{children:e.title}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{onClick:function(){return s(e._id,e.title)},className:"btn btn-dark",children:"Completed"})})]},e._id)}))})]}):"Search a Game"})},m=a(13),v=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(m.b,{className:"navbar-brand",to:"/",children:"Games Backlog"}),Object(p.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(p.jsx)("span",{className:"navbar-toggler-icon"})}),Object(p.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent",children:Object(p.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(m.b,{className:"nav-link","aria-current":"page",to:"/",children:"Search"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)(m.b,{className:"nav-link",to:"/backlog",children:"Backlog"})})]})})]})})})},f=a(2),k=function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(m.a,{children:[Object(p.jsx)(v,{}),Object(p.jsxs)("div",{className:"container p-4",children:[Object(p.jsxs)(f.c,{children:[Object(p.jsx)(f.a,{exact:!0,path:"/",component:O}),Object(p.jsx)(f.a,{path:"/backlog",component:g})]}),Object(p.jsx)(d.a,{})]})]})})};a(65),a(66);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.6eeec2db.chunk.js.map