(this["webpackJsonpreact-games"]=this["webpackJsonpreact-games"]||[]).push([[0],{36:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),s=a.n(r),o=(a(36),a(4)),i=a.n(o),l=a(9),b=a(11),d=a(12),u=a(10),j=a.n(u),h=a(1),p="https://node-gamesdb.herokuapp.com",O=function(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),s=Object(b.a)(r,2),o=s[0],u=s[1],O=Object(n.useState)([]),x=Object(b.a)(O,2),g=x[0],m=x[1],f=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==a){e.next=3;break}return e.abrupt("return",d.b.error("Must enter a title!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0}));case 3:return e.next=5,j.a.post(p,{gameTitle:a});case 5:if(0!==(n=e.sent).data.length){e.next=8;break}return e.abrupt("return",d.b.error("No games with that title!",{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0}));case 8:console.log(n.data),(c=n.data).forEach((function(e){g.forEach((function(t){e.title===t.title&&e.system===t.system&&(e.backlog=!0)}))})),u(c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("".concat(p,"/backlog"),{game:t},{Headers:{"Access-Control-Allow-Origin":"*"}});case 3:a=e.sent,console.log(a),d.b.success("".concat(t.title," Added to Backlog!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.b.error("This game is already added",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(p,"/backlog"));case 2:t=e.sent,m(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){k()}),[]),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsxs)("form",{className:"py-4 d-flex",children:[Object(h.jsx)("input",{type:"text",placeholder:"search a game",onChange:function(e){return c(e.target.value)},className:"form-control",style:{width:"400px"}}),Object(h.jsx)("button",{onClick:function(e){return f(e)},className:"btn btn-dark",children:"Search"})]}),o?Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:["#","Title","System"].map((function(e,t){return Object(h.jsx)("th",{children:e},e)}))})}),Object(h.jsx)("tbody",{children:o.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:t+1}),Object(h.jsx)("td",{children:e.title}),Object(h.jsx)("td",{children:e.system}),Object(h.jsx)("td",{children:e.backlog?Object(h.jsx)("button",{className:"btn btn-secondary disabled",children:"Added"}):Object(h.jsx)("button",{onClick:function(){return v(e)},className:"btn btn-dark",children:"Backlog"})})]},e.id)}))})]}):"Search a Game"]})},x=a(2),g="https://node-gamesdb.herokuapp.com",m=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(b.a)(r,2),o=s[0],u=s[1],p=(Object(x.f)(),function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(g,"/backlog"));case 2:t=e.sent,m(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),O=function(){var e=Object(l.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("".concat(g,"/backlog/").concat(t));case 2:p(),d.b.success("".concat(a," Completed!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=function(e){e.sort((function(e,t){return e.title.localeCompare(t.title)})),c(e)};Object(n.useEffect)((function(){p()}),[]);var f=a.filter((function(e){return e.title.toLowerCase().includes(o.toLowerCase())}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("form",{action:"",children:Object(h.jsx)("input",{type:"text",placeholder:"Search a game",autoFocus:!0,onChange:function(e){return u(e.target.value)},style:{width:"40%",margin:"10px auto",border:"none",borderBottom:"1px solid black"}})}),a?Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:["#","Title"].map((function(e,t){return Object(h.jsx)("th",{children:e},e)}))})}),Object(h.jsx)("tbody",{children:f.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:t+1}),Object(h.jsxs)("td",{children:[e.title," ",Object(h.jsx)("br",{}),Object(h.jsx)("p",{style:{fontSize:"14px",color:"gray"},children:e.system})]}),Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"dropdown d-flex",children:Object(h.jsx)("button",{onClick:function(){return O(e._id,e.title)},className:"btn btn-dark",children:"\u2713"})})})]},e._id)}))})]}):"Search a Game"]})},f=function(){var e=Object(x.f)(),t=Object(x.g)(),a=Object(n.useState)(),c=Object(b.a)(a,2),r=c[0],s=c[1],o=function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat("http://localhost:4000","/backlog/").concat(t.id));case 2:a=e.sent,console.log(a.data),s(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){return e.push("/backlog")},className:"btn btn-dark",children:"back"}),r?Object(h.jsxs)("div",{style:{margin:"40px"},children:[Object(h.jsx)("img",{src:r.img,alt:""}),Object(h.jsx)("h1",{children:r.title}),Object(h.jsx)("h2",{children:r.system}),Object(h.jsxs)("div",{className:"form-floating",children:[Object(h.jsx)("textarea",{className:"form-control",placeholder:"Leave a comment here",style:{height:"100px",width:"400px",margin:"20px 0"}}),Object(h.jsx)("button",{className:"btn btn-dark",children:"Add Comment"})]})]}):"loading..."]})},v=a(13),k=function(){return Object(h.jsx)("div",{children:Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(v.b,{className:"navbar-brand",to:"/",children:"Games Backlog"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent",children:Object(h.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(v.b,{className:"nav-link","aria-current":"page",to:"/",children:"Search"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(v.b,{className:"nav-link",to:"/backlog",children:"Backlog"})})]})})]})})})},N=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(v.a,{children:[Object(h.jsx)(k,{}),Object(h.jsxs)("div",{className:"container p-4",children:[Object(h.jsxs)(x.c,{children:[Object(h.jsx)(x.a,{exact:!0,path:"/",component:O}),Object(h.jsx)(x.a,{path:"/backlog",component:m}),Object(h.jsx)(x.a,{path:"/details/:id",component:f})]}),Object(h.jsx)(d.a,{})]})]})})};a(65),a(66);s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.3c03c1d9.chunk.js.map